From myers@eng.utah.edu  Fri Jun 27 13:58:44 2014
Return-Path: <myers@eng.utah.edu>
Received: from bowie.eng.utah.edu (bowie.eng.utah.edu [155.98.110.113])
	by chou.ece.utah.edu (8.14.7/8.14.4) with ESMTP id s5RJwi3C030542
	for <atacs-bugs@vlsigroup.ece.utah.edu>; Fri, 27 Jun 2014 13:58:44 -0600
Received: from ching.ece.utah.edu ([155.98.27.211])
	by bowie.eng.utah.edu with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.72 (FreeBSD))
	(envelope-from <myers@eng.utah.edu>)
	id 1X0cWO-000NtN-I5
	for atacs-bugs@vlsigroup.ece.utah.edu; Fri, 27 Jun 2014 14:13:20 -0600
From: "Chris J. Myers" <myers@ece.utah.edu>
Content-Type: text/plain; charset=us-ascii
Subject: BUG: persistent transitions not working
Message-Id: <EE3D939D-2DC1-49EB-86F6-D95547049FB7@ece.utah.edu>
Date: Fri, 27 Jun 2014 13:58:42 -0600
To: Scott Glass <atacs-bugs@vlsigroup.ece.utah.edu>
Mime-Version: 1.0 (Mac OS X Mail 7.3 \(1878.2\))
X-Mailer: Apple Mail (2.1878.2)
Sender: myers@eng.utah.edu
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by chou.ece.utah.edu id s5RJwi3C030542

Persistent transitions are not being compiled correctly into SBML.  Consider:

p0 -- {x==1} --> t0
p0 -- {y==1} --> t1

where {x==1} and {y==1} are persistent expressions, once true, the firing is committed except that is if p0 is removed.  In order to model this in SBML, we want to do this:

Rules:
trigger_t0 = piecewise(1, (p0==1) and (x==1 or trigger_t0== 1), 0)  

trigger_t1 = piecewise(1, (p0==1) and (y==1 or trigger_t1== 1), 0)  

Events:
trigger: p0 and trigger_t0 (non-persistent)
assignment: p0 = 0

trigger: p0 and trigger_t1 (non-persistent)
assignment: p0 = 0

Could we not have zero-delay events for trigger_t0 and trigger_t1 that also includes the places in the enabling?

Chris


