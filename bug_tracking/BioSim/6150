From myers@eng.utah.edu  Mon Aug 18 15:16:06 2014
Return-Path: <myers@eng.utah.edu>
Received: from bowie.eng.utah.edu (bowie.eng.utah.edu [155.98.110.113])
	by chou.ece.utah.edu (8.14.7/8.14.4) with ESMTP id s7ILG57Q030293
	for <atacs-bugs@vlsigroup.ece.utah.edu>; Mon, 18 Aug 2014 15:16:05 -0600
Received: from [207.151.120.4] (helo=guest-wireless-hsv-nat-207-151-004.usc.edu)
	by bowie.eng.utah.edu with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.72 (FreeBSD))
	(envelope-from <myers@eng.utah.edu>)
	id 1XJUo9-000Grs-Oa
	for atacs-bugs@vlsigroup.ece.utah.edu; Mon, 18 Aug 2014 15:49:41 -0600
From: "Chris J. Myers" <myers@ece.utah.edu>
Content-Type: text/plain; charset=us-ascii
Subject: BUG: flatten code serious flaw
Message-Id: <A6687B2C-3CB0-4C39-A016-40158A9754A4@ece.utah.edu>
Date: Mon, 18 Aug 2014 15:15:58 -0600
To: Leandro Hikiji Watanabe <atacs-bugs@vlsigroup.ece.utah.edu>
Mime-Version: 1.0 (Mac OS X Mail 7.3 \(1878.6\))
X-Mailer: Apple Mail (2.1878.6)
Sender: myers@eng.utah.edu
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by chou.ece.utah.edu id s7ILG57Q030293

The flatten code has a serious flaw in that it when it is renaming objects, it may (depending on the order applied) rename an object to an existing id name.  Later this gets fixed, but the object gets dropped and throws exception with JSBML.  Will likely need to rename things to guaranteed unique names perhaps prefix with "_" then strip the "_" afterwards much like done with replacements.

Chris


