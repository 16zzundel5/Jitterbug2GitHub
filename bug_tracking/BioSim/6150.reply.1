From: Chris Myers <atacs-bugs@vlsigroup.ece.utah.edu>
To: myers@ece.utah.edu
Subject: Re: BUG: flatten code serious flaw (PR#6150)
Date: Wed Aug 27 22:40:13 2014

This has been partially fixed by doing it in two steps.  Namely, replace with
<componentId>___ then change to __.

This trick though is only being applied to compartments, species, parameters,
and reactions.  Should it be applied 
to other things?

Also, replacements are only implemented for compartments, species, parameters,
and reactions.  Should it be 
implemented for other things?

There is no name mangling of species references.  This could be a significant
bug.

Finally, units and function are name mangled in a strange way which does an
implied replacement when they are 
identical.  Perhaps this should be made explicit.

TODOs are added to the code for these issues.
