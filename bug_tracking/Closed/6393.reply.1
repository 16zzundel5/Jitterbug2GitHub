From: Chris Myers <atacs-bugs@vlsigroup.ece.utah.edu>
To: zhen.zhang@utah.edu
Subject: Re: CHANGE: Guarantee execution of transitions compiled from non-blocking (PR#6393)
Date: Fri Sep 18 13:26:30 2015

You should now be able to assign to vectors like below.  Please test.

library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_arith.all;
use ieee.std_logic_unsigned.all;
use ieee.numeric_std.all;
use work.channel.all;

entity producer_consumer is
end producer_consumer;

architecture behavior of producer_consumer is
 signal producer_to_buf1:channel:=init_channel;
 signal data1 : std_logic_vector(1 downto 0);
 signal data2 : std_logic_vector(1 downto 0);
begin
 producer:process
   variable z : integer;
 begin
   --data1 <= selection(4,2);
   --wait for delay(5,10);
   z := selection(4);                  -- returns 1, 2, 3, or 4
   if (z = 1) then
     assign(data1,"11",1,1);
    elsif (z = 2) then
     assign(data1,"01",1,1);
   elsif (z = 3) then
     assign(data1,"10",1,1);
   else
     assign(data1,"00",1,1);
   end if;
   send(producer_to_buf1,data1);
 end process producer;
 buf1:process
 begin
   receive(producer_to_buf1,data2);
 end process buf1;
end behavior;
