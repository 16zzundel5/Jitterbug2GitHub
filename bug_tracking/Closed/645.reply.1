From: Eric Robert Peskin <atacs-bugs@shang.elen.utah.edu>
To: root@ming.elen.utah.edu
Subject: Re: BAD631 broken repository! (PR#645)
Date: Fri Feb 22 11:59:41 2002

Here is some mail I sent to Hao about this.
It is fixed now.  I will now close this report.

Subject:            Re: CVS
      Date:            Wed, 20 Feb 2002 14:35:35 -0700
      From:            Eric Robert Peskin <peskin@vlsigroup.ece.utah.edu>
        To:            hao@vlsigroup.ece.utah.edu
        CC:            eemercer@vlsigroup.ece.utah.edu
 References:           1

It turns out that wasn't the problem, so after your commit last night,
the same problem still existed.  BUT, I think I have now found and
fixed the problem.  The only way I found this was by looking directly
at ~hao/research/tmp/atacs.

It looks like you modified ~hao/research/tmp/atacs/bin/compare_literals.
Unfortunately, CVS only knew about atacs/src/perl/compare_literals.
The atacs/src/Makefile simply copied compare_literals from
atacs/src/perl to atacs/bin, where it was cvs ignored.  But the
regression tests use atacs/bin/compare_literals.  This all worked fine
if people only modified atacs/src/perl/compare_literals.  But when you
modified atacs/bin/compare_literals, CVS did not know about that.

To prevent this sort of thing from happening in the future, I made the
following changes:

I CVS moved compare_literals from atacs/src/perl to atacs/bin.
Similarly, I CVS moved Xatacs and atacs.tcl from atacs/src to atacs/bin.
These files are no longer ignored by atacs/bin/.cvsignore.
The atacs/src/Makefile no longer copies these into the bin directory,
because they are already there.  I further changed the
atacs/src/Makefile, so that rather than making atacs in the src
directory and then copying it into the bin directory, it just makes it
directly in the bin directory.

Meanwhile, what about your change to compare_literals itself?  It
looks like you made it always case-insensitive, rather than using
Chris' -i flag to select case insensitivity.  Instead, I decided to
keep Chris' version, and I modified atacs/examples/Makefile to use the
-i flag.  (atacs/examples/Makefile now has two separate variables Diff
and Difflags.  Difflags holds the -i by default.  Furthermore, both
Diff and Difflags are used to compute the names of the .*OK files, so
changing their values shouldn't confuse the Makefile).

This all allows the standard regression tests to run.

Hao, if you just do an update from your current state, I think you'll
get a message like:

        cvs update: move away bin/compare_literals; it is in the way
        C bin/compare_literals

So please do move it away (either move it out of your atacs tree, or
just delete it) BEFORE you do the update.  For example:

        cd ~hao/research/tmp/atacs/
        mv bin/compare_literals /tmp/
        cvs update -dAP

Please let me know whether this works, and whether you have any
questions.  Thanks!
