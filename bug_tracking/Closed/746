From atacs-bugs  Wed Feb 19 17:00:35 2003
Return-Path: <atacs-bugs@chou.ece.utah.edu>
Received: (from atacs-bugs@localhost)
	by chou.ece.utah.edu (8.11.6/8.11.6) id h1K00ZR10893
	for atacs-bugs@shang.elen.utah.edu; Wed, 19 Feb 2003 17:00:35 -0700
Received: from shang (shang.ece.utah.edu [155.99.23.201])
	by chou.ece.utah.edu (8.11.6/8.11.6) with ESMTP id h1K00Zq10890
	for <atacs-bugs@vlsigroup.ece.utah.edu>; Wed, 19 Feb 2003 17:00:35 -0700
Date: Wed, 19 Feb 2003 17:00:35 -0700
Message-Id: <200302200000.h1K00Zq10890@chou.ece.utah.edu>
From: peskin@cs.utah.edu
To: atacs-bugs@vlsigroup.ece.utah.edu
Subject: channel-level verification fails for MPEG example

Full_Name: Eric Robert Peskin
spec: atacs/work/vhd/{cnt,mem,MTT,dpCal,datapath_ctrl,datapath,MpegDecoder,mpegdecoder_TB}.vhd
Version: cvs tag mpeg_fail
OS: Red Hat Linux release 7.3 (Valhalla) Linux shang 2.4.18-24.7.x #1 Fri Jan 31 07:06:03 EST 2003 i686 unknown
command: ../../bin/atacs -oioqPNoDtpG1-2ys cnt mem MTT dpCal datapath_ctrl datapath MpegDecoder mpegdecoder_TB mpegdecoder.ctrl
Submission from: ming.ece.utah.edu (155.99.23.210)
Submitted by: peskin


As of the above cvs tag, the above command reports
ERROR: Channel-level verification failed!

But the same command succeeded up to cvs tag GOOD811.  It has been
broken since cvs tag BAD812.  So it seems to be related to your
commit with the message "New postprocessing."  See also PR#729,
because that cropped up at the same time.

Here is a sample session:

273 shang:shang/nobackup> cd atacs/work/vhd/
274 shang:work/vhd> ../../bin/atacs -oioqPNoDtpG1-2ys cnt mem MTT dpCal
datapath_ctrl datapath MpegDecoder mpegdecoder_TB mpegdecoder.ctrl
ATACS VERSION 5.1
Logging session in:  atacs.log
Compiling cnt.vhd ... 
Compiled process cnt
Post processing ...Storing module cnt to ./cnt.tel
Compiling mem.vhd ... 
Compiled process memory
Post processing ...Storing module mem to ./mem.tel
Compiling MTT.vhd ... 
Compiled process ttb_cal
Post processing ...Storing module MTT to ./MTT.tel
Compiling dpCal.vhd ... 
Compiled process dpcalculate
Post processing ...Storing module dpCal to ./dpCal.tel
Compiling datapath_ctrl.vhd ... 
Compiled process decoder
Post processing ...Storing module datapath_ctrl to ./datapath_ctrl.tel
Compiling datapath.vhd ... 
Post processing ...Storing module datapath to ./datapath.tel
Compiling MpegDecoder.vhd ... 
Post processing ...Storing module MpegDecoder to ./MpegDecoder.tel
Automatic state-variable insertion now DISABLED.
PARG output on errors disabled.
Stopping concurrency reduction after the first solution now ENABLED.
Allow rules to be disabled with only a warning.
Using bourne again POSET timing to obtain state graphs.
Changing minimum gate delay from 0 to 1.
Changing maximum gate delay from infinity to 2
Using single-cube algorithm for synthesis.
Compiling mpegdecoder_TB.vhd ... 
Compiled process read_file
error: signal 'calculate' not declared
error: signal 'cb_d' not declared
error: signal 'cr_d' not declared
error: signal 'dpdata_d' not declared
error: signal 'increment' not declared
error: signal 'lum_d' not declared
error: signal 'mem_access' not declared
error: signal 'mem_rw' not declared
error: signal 'reset' not declared
error: signal 'splice' not declared
Post processing ...Storing module mpegdecoder.ctrl to mpegdecoder.ctrl.tel
Loading timed event/level structure from:  mpegdecoder.ctrl.tel
WARNING:  Dropped 28 unconnected nodes.
Initializing 3 cycles ... done
Finding reduced state graph ... ERROR!
ERROR: Safety violation for rule dpdata_send-/1 -> $s_cb/1.
Error found after exploring 223 states
Storing error trace state graph to:  mpegdecoder.ctrl.trace
Full error trace:
$s_dpdata/1 -> dpdata_send+/1 -> $0+_ctrl_control_mpegdecoder_please/1 ->
$1+_ctrl_control_mpegdecoder_please/1 -> $2+_ctrl_control_mpegdecoder_please/1
-> dpdata_rcv+/1 -> dpdata_rcv-/1 -> dpdata_send-/1 -> $s_cr/1 -> $s_cb/1 ->
mem_access_please_send+/1 -> mem_access_please_rcv+/1 ->
mem_access_please_send-/1 -> mem_access_please_rcv-/1 ->
$1+_mem_memo_datapath_datap_mpegdecoder_please/1 -> increment_please_send+/1 ->
increment_please_rcv+/1 -> increment_please_send-/1 -> increment_please_rcv-/1
-> $19+_ctrl_control_mpegdecoder_please/1 ->
$2+_cnt_pos_datapath_datap_mpegdecoder_please/1 -> cb_send+/1 ->
$0+_ctrl_control_mpegdecoder_please/1 -> cb_rcv+/1 -> cb_rcv-/1 -> cb_send-/1 ->
$19+_ctrl_control_mpegdecoder_please/1 -> cr_send+/1 ->
$0+_ctrl_control_mpegdecoder_please/1 -> cr_rcv+/1 -> cr_rcv-/1 -> cr_send-/1 ->
$19+_ctrl_control_mpegdecoder_please/1 -> $s_lum/1 -> lum_send+/1 ->
$0+_ctrl_control_mpegdecoder_please/1 -> $8+_ctrl_control_mpegdecoder_please/1
-> mem_rw_please+/1 -> lum_rcv+/1 -> lum_rcv-/1 -> lum_send-/1 -> $s_dpdata/1 ->
calculate_please_send+/1 -> calculate_please_rcv+/1 -> calculate_please_send-/1
-> calculate_please_rcv-/1 -> $2+_dpcal_dp_datapath_datap_mpegdecoder_please/1
-> splice_please_send+/1 -> splice_please_rcv+/1 -> splice_please_send-/1 ->
splice_please_rcv-/1 -> $1+_mtt_addr_datapath_datap_mpegdecoder_please/1 ->
mem_access_please_send+/2 -> mem_access_please_rcv+/1 ->
mem_access_please_send-/2 -> mem_access_please_rcv-/1 ->
$19+_ctrl_control_mpegdecoder_please/1 -> dpdata_send+/1 ->
$0+_ctrl_control_mpegdecoder_please/1 -> $1+_ctrl_control_mpegdecoder_please/1
-> mem_rw_please-/1 -> dpdata_rcv+/1 -> dpdata_rcv-/1 -> dpdata_send-/1 ->
$s_cr/1 -> mem_access_please_send+/1 -> cb_send+/1 ->
$1+_mem_memo_datapath_datap_mpegdecoder_please/1 -> mem_access_please_rcv+/1 ->
mem_access_please_send-/1 -> mem_access_please_rcv-/1 ->
$1+_mem_memo_datapath_datap_mpegdecoder_please/1 -> increment_please_send+/1 ->
increment_please_rcv+/1 -> increment_please_send-/1 -> increment_please_rcv-/1
-> $19+_ctrl_control_mpegdecoder_please/1 ->
$0+_ctrl_control_mpegdecoder_please/1 ->
$2+_cnt_pos_datapath_datap_mpegdecoder_please/1 -> cb_rcv+/1 -> cb_rcv-/1 ->
cb_send-/1 -> $19+_ctrl_control_mpegdecoder_please/1 -> cr_send+/1 ->
$0+_ctrl_control_mpegdecoder_please/1 -> cr_rcv+/1 -> cr_rcv-/1 -> cr_send-/1 ->
$19+_ctrl_control_mpegdecoder_please/1 -> $s_lum/1 -> lum_send+/1 ->
$0+_ctrl_control_mpegdecoder_please/1 -> $8+_ctrl_control_mpegdecoder_please/1
-> mem_rw_please+/1 -> lum_rcv+/1 -> lum_rcv-/1 -> lum_send-/1 -> $s_dpdata/1 ->
calculate_please_send+/1 -> calculate_please_rcv+/1 -> calculate_please_send-/1
-> calculate_please_rcv-/1 -> $2+_dpcal_dp_datapath_datap_mpegdecoder_please/1
-> splice_please_send+/1 -> splice_please_rcv+/1 -> splice_please_send-/1 ->
splice_please_rcv-/1 -> $1+_mtt_addr_datapath_datap_mpegdecoder_please/1 ->
mem_access_please_send+/2 -> mem_access_please_rcv+/1 ->
mem_access_please_send-/2 -> mem_access_please_rcv-/1 ->
$19+_ctrl_control_mpegdecoder_please/1 ->
$1+_mem_memo_datapath_datap_mpegdecoder_please/1 -> dpdata_send+/1 ->
$0+_ctrl_control_mpegdecoder_please/1 -> $1+_ctrl_control_mpegdecoder_please/1
-> mem_rw_please-/1 -> dpdata_rcv+/1 -> dpdata_send-/1 -> FAIL!
Verification failed.
ERROR: Channel-level verification failed!
275 shang:work/vhd> 

