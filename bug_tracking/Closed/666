From atacs-bugs  Mon May  6 13:34:23 2002
Return-Path: <atacs-bugs@chou.elen.utah.edu>
Received: (from atacs-bugs@localhost)
	by chou.elen.utah.edu (8.11.6/8.11.6) id g46JYN017616
	for atacs-bugs@shang.elen.utah.edu; Mon, 6 May 2002 13:34:23 -0600
Received: from shang (IDENT:atacs-bugs@shang.elen.utah.edu [155.99.23.201])
	by chou.elen.utah.edu (8.11.6/8.11.6) with ESMTP id g46JYNP17609
	for <atacs-bugs@vlsigroup.ece.utah.edu>; Mon, 6 May 2002 13:34:23 -0600
Date: Mon, 6 May 2002 13:34:23 -0600
Message-Id: <200205061934.g46JYNP17609@chou.elen.utah.edu>
From: peskin@cs.utah.edu
To: atacs-bugs@vlsigroup.ece.utah.edu
Subject: verification of PAR example

Full_Name: Eric Robert Peskin
spec: /home/ming/peskin/nobackup/atacs/work/tel/PAR.tel
Version: cvs tag PR666
OS: Red Hat Linux release 7.1 (Seawolf) ming.ece.utah.edu 2.4.9-31 #1 Tue Feb 26 07:11:02 EST 2002 i686 unknown
command: atacs -oqtsltva PAR
Submission from: ming.elen.utah.edu (155.99.23.210)
Submitted by: peskin


The above command says that this TEL structure deadlocks.  However, I
am having trouble relating the trace that atacs gives to the TEL
structure itself.  In particular, at the end of the given trace, I
don't see why a?+ cannot fire.  After all, the rules that enable this
transition are not disabling rules, and this command is using posets.

Interestingly, untimed, geometric, posets, and bag all agree that
there is a deadlock.  But using bap with the oD flag, verification
succeeds.  (Sample sessions for posets and bap are pasted below.)
I don't see/understand the deadlock here, so I'm inclined to agree
with bap, but I could be wrong.

When Eric Mercer and I tried to understand what was going on, using
the dump option in posets, we saw some very strange things.  (I
believe Eric has been talking with you about this.)  The messages
imply that a?+ actually does fire, but the marking doesn't get updated
accordingly.

---8<------8<------8<------8<------8<------8<------8<------8<------8<------8<---
228 ming:work/tel> atacs -oqtsltva PAR
ATACS VERSION 5.1
Logging session in:  atacs.log
PARG output on errors disabled.
Using PO sets timing to obtain state graphs.
Loading timed event/level structure from:  PAR.tel
Initializing 3 cycles ... done
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking safety ... safe
Finding redundant rules ... done (0.000031)
Finding reduced state graph ... System deadlocked in state 111000
Storing error trace state graph to:  PAR.trace
a!+ -> c!+ -> b!+ -> c?+ -> b?+ -> c!- -> c?- -> b!- -> c?+ -> b?- -> b?+ ->
FAIL!
Verification failed.
229 ming:work/tel> 
229 ming:work/tel> 
229 ming:work/tel> atacs -oqoDtpltva PAR
ATACS VERSION 5.1
Logging session in:  atacs.log
PARG output on errors disabled.
Allow rules to be disabled with only a warning.
Using bourne again POSET timing to obtain state graphs.
Loading timed event/level structure from:  PAR.tel
Initializing 3 cycles ... done
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking safety ... safe
Finding redundant rules ... done (0.000032)
WARNING: b?+ disabled in state RR11R0
WARNING: (disabling reported once for first state it occurs in)
WARNING: c?+ disabled in state RR1R10
WARNING: (disabling reported once for first state it occurs in)
Found 5 zones in 5 states for PAR (3d 847784m 0u)
Projecting out dummy transitions ... done (0.000194)
Checking output semi-modularity ... output semi-modular
Verification succeeded.
230 ming:work/tel> 

