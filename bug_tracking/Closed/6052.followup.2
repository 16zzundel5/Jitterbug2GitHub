From myers@eng.utah.edu  Thu Jul 24 10:09:31 2014
Return-Path: <myers@eng.utah.edu>
Received: from bowie.eng.utah.edu (bowie.eng.utah.edu [155.98.110.113])
	by chou.ece.utah.edu (8.14.7/8.14.4) with ESMTP id s6OG9VAR017679
	for <atacs-bugs@vlsigroup.ece.utah.edu>; Thu, 24 Jul 2014 10:09:31 -0600
Received: from [50.141.65.129] (helo=[192.168.1.10])
	by bowie.eng.utah.edu with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.72 (FreeBSD))
	(envelope-from <myers@eng.utah.edu>)
	id 1XALoa-000FMu-Hx; Thu, 24 Jul 2014 10:24:20 -0600
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 7.3 \(1878.6\))
Subject: Re: FEATURE: Color failure and persistent transition(s) in LEMA's (PR#6052)
From: "Chris J. Myers" <myers@ece.utah.edu>
In-Reply-To: <CA+LVOvk4cC0h5fO9w5oXkWVZ_KXr=6=g4dL5BpDpxCOpe_2Jbw@mail.gmail.com>
Date: Thu, 24 Jul 2014 10:09:22 -0600
Cc: Chris Myers <atacs-bugs@vlsigroup.ece.utah.edu>,
        "<scottg@san.rr.com>" <scottg@san.rr.com>
Message-Id: <4085D7C0-6467-4F02-96D3-3863A8057600@ece.utah.edu>
References: <201407222213.s6MMD8O1004314@chou.ece.utah.edu> <CA+LVOvk4cC0h5fO9w5oXkWVZ_KXr=6=g4dL5BpDpxCOpe_2Jbw@mail.gmail.com>
To: Zhen Zhang <zhen.zhang@utah.edu>
X-Mailer: Apple Mail (2.1878.6)
Sender: myers@eng.utah.edu
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by chou.ece.utah.edu id s6OG9VAR017679

This was actually a problem with arrays index checking.  It would have failed for any model with places and transitions regardless of the persistent/fail choice.  The problem is it was checking eaID.isEnabled for places but this is only valid in the event assignment editor. I made the code match for all assignments.  This seems to have fixed your problem.  Please test.

Chris

On Jul 22, 2014, at 5:49 PM, Zhen Zhang <zhen.zhang@utah.edu> wrote:

> OK. The blue color is now on persistent transitions. But a persistent
> and failure transition (if selected both check boxes in the transition
> editor) generated the exception below.
> 
> java.lang.NullPointerException
>    at biomodel.gui.sbmlcore.Events.eventEditor(Events.java:653)
>    at biomodel.gui.schematic.Schematic.bringUpEditorForCell(Schematic.java:2496)
>    at biomodel.gui.schematic.Schematic$9.mouseReleased(Schematic.java:1174)
>    at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:290)
>    at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:289)
>    at java.awt.Component.processMouseEvent(Component.java:6505)
>    at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)
>    at java.awt.Component.processEvent(Component.java:6270)
>    at java.awt.Container.processEvent(Container.java:2229)
>    at java.awt.Component.dispatchEventImpl(Component.java:4861)
>    at java.awt.Container.dispatchEventImpl(Container.java:2287)
>    at java.awt.Component.dispatchEvent(Component.java:4687)
>    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
>    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)
>    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)
>    at java.awt.Container.dispatchEventImpl(Container.java:2273)
>    at java.awt.Window.dispatchEventImpl(Window.java:2719)
>    at java.awt.Component.dispatchEvent(Component.java:4687)
>    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:713)
>    at java.awt.EventQueue.access$000(EventQueue.java:104)
>    at java.awt.EventQueue$3.run(EventQueue.java:672)
>    at java.awt.EventQueue$3.run(EventQueue.java:670)
>    at java.security.AccessController.doPrivileged(Native Method)
>    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
>    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
>    at java.awt.EventQueue$4.run(EventQueue.java:686)
>    at java.awt.EventQueue$4.run(EventQueue.java:684)
>    at java.security.AccessController.doPrivileged(Native Method)
>    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
>    at java.awt.EventQueue.dispatchEvent(EventQueue.java:683)
>    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:244)
>    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:163)
>    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)
>    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:147)
>    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:139)
>    at java.awt.EventDispatchThread.run(EventDispatchThread.java:97)
> 
> On Tue, Jul 22, 2014 at 4:13 PM, Chris Myers
> <atacs-bugs@vlsigroup.ece.utah.edu> wrote:
>> Have you checked out the latest?  This is working for me.  If still not working,
>> please email me personally the
>> example having the problem.
>> 
>> Chris
>> 


