From: myers@vlsigroup.elen.utah.edu
To: peskin@vlsigroup.elen.utah.edu
Subject: Re: BAD388 broken repository! (PR#544)
Date: Thu Jun 14 18:05:57 2001

It turns out this one is system dependent.  Specifically, the bug is
still reproducible on RedHat 6, but not on RedHat 7.  I suspect that
this was always the case.  The nighttime regression tests that
originally reported this bug used to run on ming, a RedHat 6 machine.
Now, they run on xia, a RedHat 7 machine.  So, it turns out I spoke
too soon in Followup 2.  As of cvs tag PR544reply4, this bug is still
present.

The following two sessions demonstrate the system dependence.  The
first shows that on RedHat 7, we get a solution.  The second shows
that on RedHat 6, the very same command fails.  The cvs -nq update
queries show that these were using the same version of the source code
and of the example.  Although I didn't show it in the logs, I did run
make in each directory before testing.  So the two atacs executables
were really built from the same source code (cvs tag PR544reply4).
They were just compiled on different systems.  Weird, huh?

I am moving this back to Incoming.

=========================== BEGIN REDHAT 7 LOG ===============================
126 xia:~> cd ~peskin/atacs/
127 xia:~/atacs> cvs -nq update -r PR544reply4 -P
128 xia:~/atacs> cd examples/csp
129 xia:examples/csp> uname -a
Linux xia.elen.utah.edu 2.2.19-7.0.1 #1 Tue Apr 10 01:56:16 EDT 2001 i686
unknown
130 xia:examples/csp> ../../src/atacs -mXmsya lapb_pa 
ATACS VERSION 4.1
Logging session in:  atacs.log
Exception handling now turned ON.
Using PO sets timing to obtain state graphs.
Compiling lapb_pa.csp ... 
Compiled process lapbctrl
Compiled process left
Compiled process right
Storing module lapb_pa to ./lapb_pa.er
Loading timed event-rule structure from:  lapb_pa.er
Initializing 3 cycles ... done
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... strongly connected
Checking safety ... safe
Finding redundant rules ... done (0.000043)
Finding reduced state graph ... nodes = 273, dead = 2935
memory: max=628184 inuse=623224 free=4960 
done
34 iterations, 23 regions, 17 new_regions, 12 states in 0.001688 seconds
nodes in use = 273, dead = 2935
memory: max=628184 inuse=623224 free=4960
Found 23 zones in 12 states for lapb_pa (6d 628184m 0u)
Projecting out dummy transitions ... done (0.000153)
Checking CSC ... NOT complete state coded
EXCEPTION:  CSC violation!
Finding State Variables to solve 1 CSC violation(s)
Solution costing 0 + 0 used
Signal named CSC0 being added
IP: lo+/1 <->  ===== ro-/1 <-> 

Storing TEL to file: lapb_pa.er
Loading timed event-rule structure from:  lapb_pa.er
WARNING:  Graph not connected!
Initializing 3 cycles ... done
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... NOT strongly connected
EXCEPTION:  Connectivity violation!
Checking safety ... safe
Finding redundant rules and storing to:  lapb_pa.rr
Storing timed event-rule structure to:  lapb_pa.er
Loading timed event-rule structure from:  lapb_pa.er
WARNING:  Graph not connected!
Initializing 3 cycles ... done
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... NOT strongly connected
EXCEPTION:  Connectivity violation!
Checking safety ... safe
Finding redundant rules and storing to:  lapb_pa.rr
Storing timed event-rule structure to:  lapb_pa.er
Loading timed event-rule structure from:  lapb_pa.er
WARNING:  Graph not connected!
Initializing 3 cycles ... done
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... NOT strongly connected
EXCEPTION:  Connectivity violation!
Checking safety ... safe
Finding redundant rules and storing to:  lapb_pa.rr
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... NOT strongly connected
EXCEPTION:  Connectivity violation!
Checking safety ... safe
Finding reduced state graph and storing to:  lapb_pa.rsg
nodes = 251, dead = 4111
memory: max=738776 inuse=722496 free=16280 
done
40 iterations, 27 regions, 20 new_regions, 15 states in 0.00198698 seconds
nodes in use = 251, dead = 4111
memory: max=738776 inuse=722496 free=16280
Found 27 zones in 15 states for lapb_pa (5d 738776m 0u)
Initial: 1 + 0
Predicted: 0 + 0
Actual: 0 + 0
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... NOT strongly connected
EXCEPTION:  Connectivity violation!
Checking safety ... safe
Projecting out dummy transitions ... done (0.000175)
Checking CSC ... complete state coded
Finding regions ... done (0.000087)
Finding conflicts ... done (0.000083)
Finding covers ... done (0.000048)
Storing production rules to:  lapb_pa.prs
Total Area = 11 literals 24 transistors
============================= END REDHAT 7 LOG ===============================


=========================== BEGIN REDHAT 6 LOG ===============================
106 ming:~> cd ~peskin/nobackup/6/atacs
107 ming:6/atacs> cvs -nq update -r PR544reply4 -P
108 ming:6/atacs> cd examples/csp
109 ming:examples/csp> uname -a
Linux ming.elen.utah.edu 2.2.16-3 #1 Mon Jun 19 18:10:14 EDT 2000 i686 unknown
110 ming:examples/csp> ../../src/atacs -mXmsya lapb_pa
ATACS VERSION 4.1
Logging session in:  atacs.log
Exception handling now turned ON.
Using PO sets timing to obtain state graphs.
Compiling lapb_pa.csp ... 
Compiled process lapbctrl
Compiled process left
Compiled process right
Storing module lapb_pa to ./lapb_pa.er
Loading timed event-rule structure from:  lapb_pa.er
Initializing 3 cycles ... done
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... strongly connected
Checking safety ... safe
Finding redundant rules ... done (0.000539)
Finding reduced state graph ... nodes = 273, dead = 2935
memory: max=628460 inuse=622692 free=5768 
done
34 iterations, 23 regions, 17 new_regions, 12 states in 0.00557399 seconds
nodes in use = 273, dead = 2935
memory: max=628460 inuse=622692 free=5768
Found 23 zones in 12 states for lapb_pa (6d 628460m 0u)
Projecting out dummy transitions ... done (0.000601)
Checking CSC ... NOT complete state coded
EXCEPTION:  CSC violation!
Finding State Variables to solve 1 CSC violation(s)
Solution costing 1 + 0 used
Signal named CSC0 being added
IP: lo-/1 <->  ===== lo+/1 <-> 

Storing TEL to file: lapb_pa.er
Loading timed event-rule structure from:  lapb_pa.er
WARNING:  Graph not connected!
Initializing 3 cycles ... done
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... NOT strongly connected
EXCEPTION:  Connectivity violation!
Checking safety ... safe
Finding redundant rules and storing to:  lapb_pa.rr
Storing timed event-rule structure to:  lapb_pa.er
Loading timed event-rule structure from:  lapb_pa.er
WARNING:  Graph not connected!
Initializing 3 cycles ... done
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... NOT strongly connected
EXCEPTION:  Connectivity violation!
Checking safety ... safe
Finding redundant rules and storing to:  lapb_pa.rr
Storing timed event-rule structure to:  lapb_pa.er
Loading timed event-rule structure from:  lapb_pa.er
WARNING:  Graph not connected!
Initializing 3 cycles ... done
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... NOT strongly connected
EXCEPTION:  Connectivity violation!
Checking safety ... safe
Finding redundant rules and storing to:  lapb_pa.rr
Checking for cycles in acyclic constraint graph ... done.
Checking liveness ... live
Checking connectivity ... NOT strongly connected
EXCEPTION:  Connectivity violation!
Checking safety ... safe
Finding reduced state graph and storing to:  lapb_pa.rsg
ERROR: CSC0-/1 enabled but signal is not 1 or F in state F001B
Storing constraint graph to:  deadlock.grf
Executing command:  parg deadlock.grf &
Storing error trace state graph to:  lapb_pa.grf
Executing command:  parg lapb_pa.grf &
Storing error trace in VHDL to:  trace.vhd
Initial: 1 + 0
Predicted: 1 + 0
Actual: 0 + 0
111 ming:examples/csp> layout 1.04 (C) Copyright 1990, 1992, 1994 Tomas Rokicki
Warning:  dropped 1 unconnected nodes

============================= END REDHAT 6 LOG ===============================
