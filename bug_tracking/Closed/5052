From rat103070@gmail.com  Tue Jul 20 15:17:43 2010
Return-Path: <rat103070@gmail.com>
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on chou.ece.utah.edu
X-Spam-Level: **
X-Spam-Status: No, score=2.3 required=5.0 tests=AWL,BAYES_50,
	DNS_FROM_OPENWHOIS,FH_DATE_PAST_20XX,MIME_QP_LONG_LINE autolearn=no
	version=3.2.5
Received: from mail-pv0-f170.google.com (mail-pv0-f170.google.com [74.125.83.170])
	by chou.ece.utah.edu (8.14.3/8.13.1) with ESMTP id o6KLHgZ2020662
	for <atacs-bugs@vlsigroup.ece.utah.edu>; Tue, 20 Jul 2010 15:17:43 -0600
Received: by pvg16 with SMTP id 16so2561952pvg.15
        for <atacs-bugs@vlsigroup.ece.utah.edu>; Tue, 20 Jul 2010 14:17:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:from:content-type
         :content-transfer-encoding:subject:date:message-id:to:mime-version
         :x-mailer;
        bh=CKd5FYyOIYouq0LB/IN8hiULcYCI2EqMEyN3jJznmkc=;
        b=W5Uz+yha3gDBDTz0io16gdMIW4oRj2JPHCHjA41iTpraHH9Jd6ErfHhz0Kswn7RqoR
         KhBN7SI38TI5KVc8gg6pMCHzhgXLb0QuCM64IQvwVVXJq4J4VCvu/RRNs8MRgiJl3zxb
         ONXSLMflfVmAPG+H2wPAGFj6z0s+/aj8lJ8rE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:content-type:content-transfer-encoding:subject:date:message-id
         :to:mime-version:x-mailer;
        b=uaeWr20WtT1mWNlnpNxnkufJAUP03wEXVHCCPqw86RlxePRKKiYE/fUM6z9SpIHPmV
         jZAYA/OddB6EQsSw34QKzD1HxJEgcTFv7AOmNFOU1/cX4lYOonLVd0cAXb1uqqWvBJH5
         7SbAeYooEZOUGpgiS0ssk80W2Kz+LaoOyw1WI=
Received: by 10.114.39.2 with SMTP id m2mr10505557wam.45.1279660661783;
        Tue, 20 Jul 2010 14:17:41 -0700 (PDT)
Received: from zorac.ece.utah.edu (changcheng.ece.utah.edu [155.98.26.227])
        by mx.google.com with ESMTPS id x9sm83874698waj.3.2010.07.20.14.17.39
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Tue, 20 Jul 2010 14:17:40 -0700 (PDT)
From: Robert Thacker <rat103070@gmail.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: BUG: simulator assignment error
Date: Tue, 20 Jul 2010 15:17:38 -0600
Message-Id: <908F36BB-603C-4042-82E9-AC2C8785139C@gmail.com>
To: Chris Myers <atacs-bugs@vlsigroup.ece.utah.edu>
Mime-Version: 1.0 (Apple Message framework v1081)
X-Mailer: Apple Mail (2.1081)

The following LHPN does not simulate correctly.  At time step 17, the =
calculation regX:=3DMEM_DATA*256 is performed, with MEM_DATA at value 0. =
 the value assigned to regX, however, is 2.


.outputs MEM_READ MEM_WRITE ccrN ccrV ccrZ
.dummy t0 t1 t2 t3 t4 t5 t6 t7 t8 t9 t10 t11
#@.variables MEM_0 MEM_1 MEM_2 MEM_3 MEM_4 MEM_5 MEM_6 MEM_7 MEM_8 MEM_9 =
MEM_A MEM_ADDR MEM_B MEM_C MEM_D MEM_DATA MEM_E MEM_F regSP regX
#@.init_state [00XXX]
#|.places i0 i1 i2 i3 i4 mem p0 p1 p2 p3 top
.graph
mem t0
t0 mem
mem t1
t1 mem
top t2
t2 i0
i0 t3
t3 i1
i1 t4
t4 p0
p0 t5
t5 i2
i2 t6
t6 i3
i3 t7
t7 p1
p1 t8
t8 p2
p2 t9
t9 p3
p3 t10
t10 i4
i4 t11
t11 top
.marking { mem top }
#@.enablings =
{<t0=3D[MEM_WRITE]><t1=3D[MEM_READ]><t8=3D[~MEM_READ]><t10=3D[~MEM_READ]>}=

#@.assignments =
{<t0=3D[MEM_0:=3D(MEM_ADDR=3D0)*MEM_DATA+(~(MEM_ADDR=3D0))*MEM_0]><t0=3D[M=
EM_1:=3D(MEM_ADDR=3D1)*MEM_DATA+(~(MEM_ADDR=3D1))*MEM_1]><t0=3D[MEM_2:=3D(=
MEM_ADDR=3D2)*MEM_DATA+(~(MEM_ADDR=3D2))*MEM_2]><t0=3D[MEM_3:=3D(MEM_ADDR=3D=
3)*MEM_DATA+(~(MEM_ADDR=3D3))*MEM_3]><t0=3D[MEM_4:=3D(MEM_ADDR=3D4)*MEM_DA=
TA+(~(MEM_ADDR=3D4))*MEM_4]><t0=3D[MEM_5:=3D(MEM_ADDR=3D5)*MEM_DATA+(~(MEM=
_ADDR=3D5))*MEM_5]><t0=3D[MEM_6:=3D(MEM_ADDR=3D6)*MEM_DATA+(~(MEM_ADDR=3D6=
))*MEM_6]><t0=3D[MEM_7:=3D(MEM_ADDR=3D7)*MEM_DATA+(~(MEM_ADDR=3D7))*MEM_7]=
><t0=3D[MEM_8:=3D(MEM_ADDR=3D8)*MEM_DATA+(~(MEM_ADDR=3D8))*MEM_8]><t0=3D[M=
EM_9:=3D(MEM_ADDR=3D9)*MEM_DATA+(~(MEM_ADDR=3D9))*MEM_9]><t0=3D[MEM_A:=3D(=
MEM_ADDR=3D10)*MEM_DATA+(~(MEM_ADDR=3D10))*MEM_A]><t0=3D[MEM_B:=3D(MEM_ADD=
R=3D11)*MEM_DATA+(~(MEM_ADDR=3D11))*MEM_B]><t0=3D[MEM_C:=3D(MEM_ADDR=3D12)=
*MEM_DATA+(~(MEM_ADDR=3D12))*MEM_C]><t0=3D[MEM_D:=3D(MEM_ADDR=3D13)*MEM_DA=
TA+(~(MEM_ADDR=3D13))*MEM_D]><t0=3D[MEM_E:=3D(MEM_ADDR=3D14)*MEM_DATA+(~(M=
EM_ADDR=3D14))*MEM_E]><t0=3D[MEM_F:=3D(MEM_ADDR=3D15)*MEM_DATA+(~(MEM_ADDR=
=3D15))*MEM_F]><t1=3D[MEM_DATA:=3D(MEM_ADDR=3D0)*MEM_0+(MEM_ADDR=3D1)*MEM_=
1+(MEM_ADDR=3D2)*MEM_2+(MEM_ADDR=3D3)*MEM_3+(MEM_ADDR=3D4)*MEM_4+(MEM_ADDR=
=3D5)*MEM_5+(MEM_ADDR=3D6)*MEM_6+(MEM_ADDR=3D7)*MEM_7+(MEM_ADDR=3D8)*MEM_8=
+(MEM_ADDR=3D9)*MEM_9+(MEM_ADDR=3D10)*MEM_A+(MEM_ADDR=3D11)*MEM_B+(MEM_ADD=
R=3D12)*MEM_C+(MEM_ADDR=3D13)*MEM_D+(MEM_ADDR=3D14)*MEM_E+(MEM_ADDR=3D15)*=
MEM_F]><t2=3D[regX:=3D(2%65536)]><t3=3D[regSP:=3D(15%65536)]><t4=3D[MEM_AD=
DR:=3DregSP]><t4=3D[MEM_DATA:=3DregX%256]><t4=3D[regSP:=3D(regSP+65535)%65=
536]><t5=3D[MEM_ADDR:=3DregSP]><t5=3D[MEM_DATA:=3DregX/256]><t5=3D[regSP:=3D=
(regSP+65535)%65536]><t6=3D[regX:=3D(regX+1)%65536]><t7=3D[MEM_ADDR:=3D(re=
gSP+1)%65536]><t7=3D[regSP:=3D(regSP+1)%65536]><t8=3D[regX:=3DMEM_DATA*256=
]><t9=3D[MEM_ADDR:=3D(regSP+1)%65536]><t9=3D[regSP:=3D(regSP+1)%65536]><t1=
0=3D[regX:=3DregX+MEM_DATA]>}
#@.boolean_assignments =
{<t0=3D[MEM_WRITE:=3Dfalse]><t1=3D[MEM_READ:=3Dfalse]><t2=3D[ccrN:=3DBIT(2=
,15)]><t2=3D[ccrV:=3DFALSE]><t2=3D[ccrZ:=3D((2%65536)=3D0)]><t3=3D[ccrN:=3D=
BIT(15,15)]><t3=3D[ccrV:=3DFALSE]><t3=3D[ccrZ:=3D((15%65536)=3D0)]><t4=3D[=
MEM_WRITE:=3Dtrue]><t5=3D[MEM_WRITE:=3Dtrue]><t6=3D[ccrZ:=3D((regX+1)%6553=
6=3D0)]><t7=3D[MEM_READ:=3Dtrue]><t9=3D[MEM_READ:=3Dtrue]>}
#@.delay_assignments =
{<t0=3D[uniform(0,0)]><t1=3D[uniform(0,0)]><t2=3D[uniform(3,3)]><t3=3D[uni=
form(3,3)]><t4=3D[uniform(3,3)]><t5=3D[uniform(1,1)]><t6=3D[uniform(3,3)]>=
<t7=3D[uniform(4,4)]><t8=3D[uniform(0,0)]><t9=3D[uniform(1,1)]><t10=3D[uni=
form(0,0)]><t11=3D[uniform(3,3)]>}
.end

