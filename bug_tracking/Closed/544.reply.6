From: Eric Robert Peskin <atacs-bugs@shang.elen.utah.edu>
To: myers@jiaqi.elen.utah.edu
Subject: Re: BAD388 broken repository! (PR#544)
Date: Sat Jun 30 19:34:46 2001

Yes, furthermore with the new code, RedHat 7 runs into the same bug
that RedHat 6 always did.  See PR#566.

For an STL "set", if you don't specify a comparison operator to use,
STL by default will use "<" for that type to order the elements of the
set.  So if one has a set of pointers, STL will be default be sorting
according to the addresses of those pointers.  So even using the same
version of the STL library code, if something else changes that
changes the order of the addresses that get assigned, you can see
different orders.

I recently discovered this in my own code.  After the recent changes
to ATACS, it was outputting the same TEL structures, but the files
looked different (to something simple like diff) because the order of
various things were different.  (E.g., which member of a conflict pair
gets listed first.)  That shouldn't matter, but it made it confusing
for me to debug and figure out whether my code was really behaving
differently or not.  So I changed my sets of events so that they are
sorted by the actual name of the event, rather than by the address of
a pointer to the event.

Although I haven't looked for this in the state assignment code, I
suspect something like that might be why changes to other code caused
it to pick a different insertion point.