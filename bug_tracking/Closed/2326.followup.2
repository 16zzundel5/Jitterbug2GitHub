From myers@ece.utah.edu  Tue Nov  6 07:47:12 2007
Return-Path: <myers@ece.utah.edu>
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on chou.ece.utah.edu
X-Spam-Level: **
X-Spam-Status: No, score=2.6 required=3.0 tests=AWL,BAYES_50,RCVD_BAD_ID
	autolearn=no version=3.2.1
Received: from mailhub.eng.utah.edu (mailhub.eng.utah.edu [155.98.111.32])
	by chou.ece.utah.edu (8.14.1/8.13.1) with ESMTP id lA6ElCSt009547
	for <atacs-bugs@vlsigroup.ece.utah.edu>; Tue, 6 Nov 2007 07:47:12 -0700
Received: from beta.eng.utah.edu ([155.98.111.99])
	by mailhub.eng.utah.edu with esmtp 
	(Exim 4.60 id 1IpPii-0002qO-UH); Tue, 06 Nov 2007 07:48:04 -0700
Received: from [192.168.0.2] (71-213-31-193.slkc.qwest.net [71.213.31.193])
	(authenticated bits=0)
	by beta.eng.utah.edu (8.13.1/8.13.1) with ESMTP id lA6El9do001795;
	Tue, 6 Nov 2007 07:47:09 -0700
Subject: Re: FEATURE: ctrl-w closes tab (PR#2326)
From: Chris Myers <myers@ece.utah.edu>
To: Curtis Madsen <atacs-bugs@vlsigroup.ece.utah.edu>
Cc: Curtis Kendall Madsen <curtis.madsen@utah.edu>
In-Reply-To: <200711061444.lA6EiD4e009487@chou.ece.utah.edu>
References: <200711061444.lA6EiD4e009487@chou.ece.utah.edu>
Content-Type: text/plain
Date: Tue, 06 Nov 2007 07:45:21 -0700
Message-Id: <1194360321.27034.23.camel@jiaqi.ece.utah.edu>
Mime-Version: 1.0
X-Mailer: Evolution 2.10.3 (2.10.3-4.fc7) 
Content-Transfer-Encoding: 7bit
X-UCE-Score: 0.3 (/)
X-Scan-Signature: a75380776e3da7e1c10a138c289e280b

On Tue, 2007-11-06 at 08:06 +0000, Curtis Madsen wrote:
> This feature has now been added.  Moving to needs testing.

I spoke too soon.  If you do the following, you can get an exception.
Open up a tab, use ctrl-w to close, but do not answer the question about
saving, then press ctrl-w again.  Now, answer the question yes to save.
The tab will close but the 2nd question is still there.  Now, answer yes
to save, but you get an exception because there is nothing left open to
save.

Here is the exception:

[myers@jiaqi BioSim]$ Exception occurred during event dispatching:
java.lang.ArrayIndexOutOfBoundsException: -1
        at java.util.Vector.elementAt(Vector.java:435)
        at javax.swing.JTabbedPane.getComponentAt(JTabbedPane.java:1052)
        at biomodelsim.core.gui.BioSim.save(BioSim.java:1452)
        at biomodelsim.core.gui.BioSim
$2.dispatchKeyEvent(BioSim.java:220)
        at
java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:913)
        at
java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:798)
        at
java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:636)
        at java.awt.Component.dispatchEventImpl(Component.java:3841)
        at java.awt.Container.dispatchEventImpl(Container.java:2024)
        at java.awt.Window.dispatchEventImpl(Window.java:1778)
        at java.awt.Component.dispatchEvent(Component.java:3803)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:463)
        at
java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:242)
        at
java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:163)
        at
java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:153)
        at java.awt.Dialog$1.run(Dialog.java:517)
        at java.awt.Dialog$2.run(Dialog.java:545)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.awt.Dialog.show(Dialog.java:543)
        at
javax.swing.JOptionPane.showOptionDialog(JOptionPane.java:843)
        at biomodelsim.core.gui.BioSim
$2.dispatchKeyEvent(BioSim.java:212)
        at
java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:913)
        at
java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:798)
        at
java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:636)
        at java.awt.Component.dispatchEventImpl(Component.java:3841)
        at java.awt.Container.dispatchEventImpl(Container.java:2024)
        at java.awt.Window.dispatchEventImpl(Window.java:1778)
        at java.awt.Component.dispatchEvent(Component.java:3803)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:463)
        at
java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:242)
        at
java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:163)
        at
java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:153)
        at java.awt.Dialog$1.run(Dialog.java:517)
        at java.awt.Dialog$2.run(Dialog.java:545)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.awt.Dialog.show(Dialog.java:543)
        at
javax.swing.JOptionPane.showOptionDialog(JOptionPane.java:843)
        at biomodelsim.core.gui.BioSim
$2.dispatchKeyEvent(BioSim.java:212)
        at
java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:913)
        at
java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:798)
        at
java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:636)
        at java.awt.Component.dispatchEventImpl(Component.java:3841)
        at java.awt.Container.dispatchEventImpl(Container.java:2024)
        at java.awt.Window.dispatchEventImpl(Window.java:1778)
        at java.awt.Component.dispatchEvent(Component.java:3803)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:463)
        at
java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:242)
        at
java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:163)
        at
java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:157)
        at
java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:149)
        at
java.awt.EventDispatchThread.run(EventDispatchThread.java:110)
Exception occurred during event dispatching:
java.lang.ArrayIndexOutOfBoundsException: -1
        at java.util.Vector.elementAt(Vector.java:435)
        at javax.swing.JTabbedPane.getComponentAt(JTabbedPane.java:1052)
        at biomodelsim.core.gui.BioSim.save(BioSim.java:1452)
        at biomodelsim.core.gui.BioSim
$2.dispatchKeyEvent(BioSim.java:220)
        at
java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:913)
        at
java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:798)
        at
java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:636)
        at java.awt.Component.dispatchEventImpl(Component.java:3841)
        at java.awt.Container.dispatchEventImpl(Container.java:2024)
        at java.awt.Window.dispatchEventImpl(Window.java:1778)
        at java.awt.Component.dispatchEvent(Component.java:3803)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:463)
        at
java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:242)
        at
java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:163)
        at
java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:153)
        at java.awt.Dialog$1.run(Dialog.java:517)
        at java.awt.Dialog$2.run(Dialog.java:545)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.awt.Dialog.show(Dialog.java:543)
        at
javax.swing.JOptionPane.showOptionDialog(JOptionPane.java:843)
        at biomodelsim.core.gui.BioSim
$2.dispatchKeyEvent(BioSim.java:212)
        at
java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:913)
        at
java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:798)
        at
java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:636)
        at java.awt.Component.dispatchEventImpl(Component.java:3841)
        at java.awt.Container.dispatchEventImpl(Container.java:2024)
        at java.awt.Window.dispatchEventImpl(Window.java:1778)
        at java.awt.Component.dispatchEvent(Component.java:3803)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:463)
        at
java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:242)
        at
java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:163)
        at
java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:157)
        at
java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:149)
        at
java.awt.EventDispatchThread.run(EventDispatchThread.java:110)
Exception in thread "AWT-EventQueue-0"
java.lang.ArrayIndexOutOfBoundsException: -1
        at java.util.Vector.elementAt(Vector.java:435)
        at javax.swing.JTabbedPane.getComponentAt(JTabbedPane.java:1052)
        at biomodelsim.core.gui.BioSim.save(BioSim.java:1452)
        at biomodelsim.core.gui.BioSim
$2.dispatchKeyEvent(BioSim.java:220)
        at
java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:913)
        at
java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:798)
        at
java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:636)
        at java.awt.Component.dispatchEventImpl(Component.java:3841)
        at java.awt.Container.dispatchEventImpl(Container.java:2024)
        at java.awt.Window.dispatchEventImpl(Window.java:1778)
        at java.awt.Component.dispatchEvent(Component.java:3803)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:463)
        at
java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:242)
        at
java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:163)
        at
java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:157)
        at
java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:149)
        at
java.awt.EventDispatchThread.run(EventDispatchThread.java:110)




