From myers@eng.utah.edu  Mon Mar 25 16:05:44 2013
Return-Path: <myers@eng.utah.edu>
Received: from bowie.eng.utah.edu (bowie.eng.utah.edu [155.98.110.113])
	by chou.ece.utah.edu (8.14.5/8.14.4) with ESMTP id r2PM5fA9001017
	for <atacs-bugs@vlsigroup.ece.utah.edu>; Mon, 25 Mar 2013 16:05:41 -0600
Received: from [64.168.229.50] (helo=[172.31.141.25])
	by bowie.eng.utah.edu with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.72 (FreeBSD))
	(envelope-from <myers@eng.utah.edu>)
	id 1UKFSD-0004T7-Kv
	for atacs-bugs@vlsigroup.ece.utah.edu; Mon, 25 Mar 2013 16:01:22 -0600
From: "Chris J. Myers" <myers@ece.utah.edu>
Content-Type: multipart/alternative; boundary="Apple-Mail=_0E7FCC1B-4AA1-43D5-935F-C3D9AF2850FF"
Subject: BUG: local parameter diffusion parameters not having effect
Date: Mon, 25 Mar 2013 16:05:32 -0600
References: <DA7280BB9D2E724593F88E5A0922D5F52CD07CA0@X-MB8.xds.umail.utah.edu>
To: Leandro Hikiji Watanabe <atacs-bugs@vlsigroup.ece.utah.edu>
Message-Id: <D4CA344B-89B8-42C5-AA71-BECB1FAE760B@ece.utah.edu>
Mime-Version: 1.0 (Mac OS X Mail 6.3 \(1503\))
X-Mailer: Apple Mail (2.1503)
Sender: myers@eng.utah.edu


--Apple-Mail=_0E7FCC1B-4AA1-43D5-935F-C3D9AF2850FF
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=iso-8859-1

When you change the local diffusion parameters, they do not take effect. =
 However, the global ones work.

Chris

Begin forwarded message:

> From: JEFFREY MARTIN THEISEN <Jeffrey.Theisen@utah.edu>
> Subject: RE: grid model simulation problems
> Date: March 21, 2013 9:34:08 PM MDT
> To: u0030884 <myers@ece.utah.edu>
>=20
> Hi Dr. Myers,
>=20
> Good news, this seems to have fixed the problem.  I can now simulate =
my models using rkf45 and gillespie (I have not tried any others but I =
would assume they work as well).  I also checked the java versions and =
those still work too.
>=20
> Also, more good news (depending on how you look at it).  I figured out =
how to make the diffusion behave how I wanted, like we were talking =
about in your office today.  Remember that I was trying to decrease the =
diffusion rate in order to make more of a gradient of ligand molecules =
in the grid.  I found that if I change this value (kecdiff) from the =
grid model "Parameters" tab to a lower value (from 1.0 to 0.01 for =
example).  This was sufficient to see a gradient of concentration across =
the grid (using rkf45 simulator).  However, if instead I changed the =
same variable (kecdiff) to the same value (0.01) from the "Grid Species" =
tab "Edit Species/Promoter" button, this had no effect on the observed =
diffusion in the simulation.  So it seems that there is some disconnect =
between editing species specific values and global parameters. =20
>=20
> Just FYI, I also checked to see if the same problem exists for editing =
the membrane diffusion rate for a species from the schematic of the =
model it is in.  This worked just fine, I was able to change membrane =
diffusion to favor either pumping out or in and I saw the effect of =
these changes on the simulated grid model.
>=20
> At this point I do not think it is a huge rush to fix the disconnect =
between species specific and global parameters in grid models... I know =
that you will be busy this weekend and I can make progress on my model =
without this fix.  However, eventually it would be nice to have species =
specific control so that I can have some species that diffuse quickly =
and some that diffuse slowly.
>=20
> Thanks!
> Jeff
>=20
>=20
> From: myers@eng.utah.edu [myers@eng.utah.edu] on behalf of Chris J. =
Myers [myers@ece.utah.edu]
> Sent: Thursday, March 21, 2013 3:26 PM
> To: JEFFREY MARTIN THEISEN
> Subject: Re: grid model simulation problems
>=20
> Hi Jeff,
>=20
> I posted the small fix as a slightly updated version of 2.4.4.  Please =
try it out and let me know if you can use the reb2sac simulation =
methods.
>=20
> Thanks,
>=20
> Chris
>=20
> On Mar 19, 2013, at 7:04 PM, JEFFREY MARTIN THEISEN =
<Jeffrey.Theisen@utah.edu> wrote:
>=20
>> Hi Dr. Myers,
>>=20
>> Well the good news is that this fixed the problem I was having with =
2.4.4, the "unable to output to sbml" error. =20
>>=20
>> However, there are some strange things happening now.  I retested the =
diffusion_test_3 project, the one that I just sent you, and it got the =
"cannot register reaction" error like before.  I then made a new project =
and model, same thing as before (1 cell, 1 diffusible species, in a 3x3 =
grid).  The first time I simulated this model it seemed to work without =
error, but I noticed that in the schematic I was not able to watch =
concentrations change because it said there aren't any species in the =
grid rectangles or the cell compartments.  I checked the Grid Species =
list, and the diffusible species was not there, the list was empty.  I =
then closed the project and reopened it and found that the species had =
been added to the Grid Species list.  When I tried to simulate it again =
I ran into the same error from before, "cannot register reaction".
>>=20
>> Any ideas about what is causing this cannot register reaction error?  =
If it would be helpful I could maybe meet with you tomorrow or Thursday =
to show you how it is failing on my computer.  Let me know.
>>=20
>> Thanks,
>> Jeff
>>=20
>>=20
>> From: myers@eng.utah.edu [myers@eng.utah.edu] on behalf of Chris J. =
Myers [myers@ece.utah.edu]
>> Sent: Tuesday, March 19, 2013 6:41 PM
>> To: JEFFREY MARTIN THEISEN
>> Subject: Re: grid model simulation problems
>>=20
>> Ok, I think I fixed it.  Please download and try again.  Sorry for =
the trouble.
>>=20
>> Chris
>>=20
>> On Mar 19, 2013, at 6:09 PM, JEFFREY MARTIN THEISEN =
<Jeffrey.Theisen@utah.edu> wrote:
>>=20
>>> Okay,  I have submitted the bug report and attached the project.  If =
it were a problem with the project itself I would be surprised because =
this is almost exactly the same as the last one I sent you.  Let me know =
if there is anything else I can do to help.
>>>=20
>>> Thanks,
>>> Jeff
>>>=20
>>> From: myers@eng.utah.edu [myers@eng.utah.edu] on behalf of Chris J. =
Myers [myers@ece.utah.edu]
>>> Sent: Tuesday, March 19, 2013 5:58 PM
>>> To: JEFFREY MARTIN THEISEN
>>> Subject: Re: grid model simulation problems
>>>=20
>>>=20
>>>> Is a stack trace the trace provided by the Details button of error =
message?  If so, I can submit the bug through iBioSim so that you can =
see it.=20
>>>=20
>>> Yes, that is correct.  Please submit.
>>>=20
>>>> I tried the gillespie and rkf45 simulators, and I also tried the =
Model option (vs. ode or monte carlo), all 3 had the same error message. =
 I can still edit models and save them, although when I save them there =
seems to be a double // in the lower panel of iBioSim, where I would =
expect only one /, see below:
>>>>=20
>>>> Saving SBML file:
>>>> =
/home/jeff/Documents/UofU/Classes/bioen6760/Projects/diffusion_test_3//lig=
and_source.xml
>>>>=20
>>> This should be fine.  Please send the project, so I can see if it is =
something with your example.
>>>=20
>>>> Also, I ran the uninstaller before installing the new version, and =
it seemed to work, except that I got a message that the iBioSim folder =
was not empty (it had just the bin folder left, and the contents were =
only reb2sac and GeneNet).  Anyways, I renamed the old folder so it =
wouldn't get in the way before I reinstalled.  When I started the =
reinstall process it warned me that there was already a version of =
iBioSim detected, but I let it continue anyway.  I guess maybe there is =
something that the uninstaller might have missed, but I was not sure =
what.
>>>>=20
>>> Hmm, sounds like you were pretty careful, so I guess that is not the =
problem.
>>>=20
>>> My guess is it is a new bug caused by something in your example.
>>>=20
>>> Chris
>>>=20
>>>=20
>>> <diffusion_test_3.zip>
>>=20
>>=20
>=20
>=20


--Apple-Mail=_0E7FCC1B-4AA1-43D5-935F-C3D9AF2850FF
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=iso-8859-1

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html =
charset=3Diso-8859-1"><base href=3D"x-msg://1176/"></head><body =
style=3D"word-wrap: break-word; -webkit-nbsp-mode: space; =
-webkit-line-break: after-white-space; ">When you change the local =
diffusion parameters, they do not take effect. &nbsp;However, the global =
ones work.<div><br></div><div>Chris<br><div><br><div>Begin forwarded =
message:</div><br class=3D"Apple-interchange-newline"><blockquote =
type=3D"cite"><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px;"><span =
style=3D"font-family:'Helvetica'; font-size:medium; color:rgba(0, 0, 0, =
1.0);"><b>From: </b></span><span style=3D"font-family:'Helvetica'; =
font-size:medium;">JEFFREY MARTIN THEISEN &lt;<a =
href=3D"mailto:Jeffrey.Theisen@utah.edu">Jeffrey.Theisen@utah.edu</a>&gt;<=
br></span></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px;"><span =
style=3D"font-family:'Helvetica'; font-size:medium; color:rgba(0, 0, 0, =
1.0);"><b>Subject: </b></span><span style=3D"font-family:'Helvetica'; =
font-size:medium;"><b>RE: grid model simulation =
problems</b><br></span></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span =
style=3D"font-family:'Helvetica'; font-size:medium; color:rgba(0, 0, 0, =
1.0);"><b>Date: </b></span><span style=3D"font-family:'Helvetica'; =
font-size:medium;">March 21, 2013 9:34:08 PM MDT<br></span></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px;"><span style=3D"font-family:'Helvetica'; =
font-size:medium; color:rgba(0, 0, 0, 1.0);"><b>To: </b></span><span =
style=3D"font-family:'Helvetica'; font-size:medium;">u0030884 &lt;<a =
href=3D"mailto:myers@ece.utah.edu">myers@ece.utah.edu</a>&gt;<br></span></=
div><br><div ocsi=3D"0" fpstyle=3D"1" style=3D"font-family: Helvetica; =
font-size: medium; font-style: normal; font-variant: normal; =
font-weight: normal; letter-spacing: normal; line-height: normal; =
orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: =
none; white-space: normal; widows: 2; word-spacing: 0px; =
-webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; =
word-wrap: break-word; "><div style=3D"direction: ltr; font-family: =
Tahoma; font-size: 10pt; ">Hi Dr. Myers,<br><br>Good news, this seems to =
have fixed the problem.&nbsp; I can now simulate my models using rkf45 =
and gillespie (I have not tried any others but I would assume they work =
as well).&nbsp; I also checked the java versions and those still work =
too.<br><br>Also, more good news (depending on how you look at =
it).&nbsp; I figured out how to make the diffusion behave how I wanted, =
like we were talking about in your office today.&nbsp; Remember that I =
was trying to decrease the diffusion rate in order to make more of a =
gradient of ligand molecules in the grid.&nbsp; I found that if I change =
this value (kecdiff) from the grid model "Parameters" tab to a lower =
value (from 1.0 to 0.01 for example).&nbsp; This was sufficient to see a =
gradient of concentration across the grid (using rkf45 simulator).&nbsp; =
However, if instead I changed the same variable (kecdiff) to the same =
value (0.01) from the "Grid Species" tab "Edit Species/Promoter" button, =
this had no effect on the observed diffusion in the simulation.&nbsp; So =
it seems that there is some disconnect between editing species specific =
values and global parameters.&nbsp;<span =
class=3D"Apple-converted-space">&nbsp;</span><br><br>Just FYI, I also =
checked to see if the same problem exists for editing the membrane =
diffusion rate for a species from the schematic of the model it is =
in.&nbsp; This worked just fine, I was able to change membrane diffusion =
to favor either pumping out or in and I saw the effect of these changes =
on the simulated grid model.<br><br>At this point I do not think it is a =
huge rush to fix the disconnect between species specific and global =
parameters in grid models... I know that you will be busy this weekend =
and I can make progress on my model without this fix.&nbsp; However, =
eventually it would be nice to have species specific control so that I =
can have some species that diffuse quickly and some that diffuse =
slowly.<br><br>Thanks!<br>Jeff<br><br><br><div style=3D"font-family: =
'Times New Roman'; font-size: 16px; "><hr tabindex=3D"-1"><div =
id=3D"divRpF759855" style=3D"direction: ltr; "><font face=3D"Tahoma" =
size=3D"2"><b>From:</b><span =
class=3D"Apple-converted-space">&nbsp;</span><a =
href=3D"mailto:myers@eng.utah.edu">myers@eng.utah.edu</a><span =
class=3D"Apple-converted-space">&nbsp;</span>[<a =
href=3D"mailto:myers@eng.utah.edu">myers@eng.utah.edu</a>] on behalf of =
Chris J. Myers [<a =
href=3D"mailto:myers@ece.utah.edu">myers@ece.utah.edu</a>]<br><b>Sent:</b>=
<span class=3D"Apple-converted-space">&nbsp;</span>Thursday, March 21, =
2013 3:26 PM<br><b>To:</b><span =
class=3D"Apple-converted-space">&nbsp;</span>JEFFREY MARTIN =
THEISEN<br><b>Subject:</b><span =
class=3D"Apple-converted-space">&nbsp;</span>Re: grid model simulation =
problems<br></font><br></div><div></div><div>Hi =
Jeff,<div><br></div><div>I posted the small fix as a slightly updated =
version of 2.4.4. &nbsp;Please try it out and let me know if you can use =
the reb2sac simulation =
methods.</div><div><br></div><div>Thanks,</div><div><br></div><div>Chris</=
div><div><br><div><div>On Mar 19, 2013, at 7:04 PM, JEFFREY MARTIN =
THEISEN &lt;<a href=3D"mailto:Jeffrey.Theisen@utah.edu" =
target=3D"_blank">Jeffrey.Theisen@utah.edu</a>&gt; wrote:</div><br =
class=3D"Apple-interchange-newline"><blockquote type=3D"cite"><div =
style=3D"font-family: Helvetica; font-size: medium; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; =
white-space: normal; widows: 2; word-spacing: 0px; word-wrap: =
break-word; "><div style=3D"direction: ltr; font-family: Tahoma; =
font-size: 10pt; ">Hi Dr. Myers,<br><br>Well the good news is that this =
fixed the problem I was having with 2.4.4, the "unable to output to =
sbml" error.&nbsp;<span =
class=3D"Apple-converted-space">&nbsp;</span><br><br>However, there are =
some strange things happening now.&nbsp; I retested the diffusion_test_3 =
project, the one that I just sent you, and it got the "cannot register =
reaction" error like before.&nbsp; I then made a new project and model, =
same thing as before (1 cell, 1 diffusible species, in a 3x3 =
grid).&nbsp; The first time I simulated this model it seemed to work =
without error, but I noticed that in the schematic I was not able to =
watch concentrations change because it said there aren't any species in =
the grid rectangles or the cell compartments.&nbsp; I checked the Grid =
Species list, and the diffusible species was not there, the list was =
empty.&nbsp; I then closed the project and reopened it and found that =
the species had been added to the Grid Species list.&nbsp; When I tried =
to simulate it again I ran into the same error from before, "cannot =
register reaction".<br><br>Any ideas about what is causing this cannot =
register reaction error?&nbsp; If it would be helpful I could maybe meet =
with you tomorrow or Thursday to show you how it is failing on my =
computer.&nbsp; Let me know.<br><br>Thanks,<br>Jeff<br><br><br><div =
style=3D"font-family: 'Times New Roman'; font-size: 16px; "><hr =
tabindex=3D"-1"><div id=3D"divRpF545677" style=3D"direction: ltr; =
"><font face=3D"Tahoma" size=3D"2"><b>From:</b><span =
class=3D"Apple-converted-space">&nbsp;</span><a =
href=3D"mailto:myers@eng.utah.edu" =
target=3D"_blank">myers@eng.utah.edu</a><span =
class=3D"Apple-converted-space">&nbsp;</span>[<a =
href=3D"mailto:myers@eng.utah.edu" =
target=3D"_blank">myers@eng.utah.edu</a>] on behalf of Chris J. Myers =
[<a href=3D"mailto:myers@ece.utah.edu" =
target=3D"_blank">myers@ece.utah.edu</a>]<br><b>Sent:</b><span =
class=3D"Apple-converted-space">&nbsp;</span>Tuesday, March 19, 2013 =
6:41 PM<br><b>To:</b><span =
class=3D"Apple-converted-space">&nbsp;</span>JEFFREY MARTIN =
THEISEN<br><b>Subject:</b><span =
class=3D"Apple-converted-space">&nbsp;</span>Re: grid model simulation =
problems<br></font><br></div><div></div><div>Ok, I think I fixed it. =
&nbsp;Please download and try again. &nbsp;Sorry for the =
trouble.<div><br></div><div>Chris</div><div><br><div><div>On Mar 19, =
2013, at 6:09 PM, JEFFREY MARTIN THEISEN &lt;<a =
href=3D"mailto:Jeffrey.Theisen@utah.edu" =
target=3D"_blank">Jeffrey.Theisen@utah.edu</a>&gt; wrote:</div><br =
class=3D"Apple-interchange-newline"><blockquote type=3D"cite"><div =
style=3D"font-family: Helvetica; font-size: medium; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; =
white-space: normal; widows: 2; word-spacing: 0px; word-wrap: =
break-word; "><div style=3D"direction: ltr; font-family: Tahoma; =
font-size: 10pt; ">Okay,&nbsp; I have submitted the bug report and =
attached the project.&nbsp; If it were a problem with the project itself =
I would be surprised because this is almost exactly the same as the last =
one I sent you.&nbsp; Let me know if there is anything else I can do to =
help.<br><br>Thanks,<br>Jeff<br><br><div style=3D"font-family: 'Times =
New Roman'; font-size: 16px; "><hr tabindex=3D"-1"><div =
id=3D"divRpF752141" style=3D"direction: ltr; "><font face=3D"Tahoma" =
size=3D"2"><b>From:</b><span =
class=3D"Apple-converted-space">&nbsp;</span><a =
href=3D"mailto:myers@eng.utah.edu" =
target=3D"_blank">myers@eng.utah.edu</a><span =
class=3D"Apple-converted-space">&nbsp;</span>[<a =
href=3D"mailto:myers@eng.utah.edu" =
target=3D"_blank">myers@eng.utah.edu</a>] on behalf of Chris J. Myers =
[<a href=3D"mailto:myers@ece.utah.edu" =
target=3D"_blank">myers@ece.utah.edu</a>]<br><b>Sent:</b><span =
class=3D"Apple-converted-space">&nbsp;</span>Tuesday, March 19, 2013 =
5:58 PM<br><b>To:</b><span =
class=3D"Apple-converted-space">&nbsp;</span>JEFFREY MARTIN =
THEISEN<br><b>Subject:</b><span =
class=3D"Apple-converted-space">&nbsp;</span>Re: grid model simulation =
problems<br></font><br></div><div></div><div><div><div><br></div><blockquo=
te type=3D"cite"><div style=3D"font-family: Helvetica; font-size: =
medium; font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; orphans: 2; text-indent: =
0px; text-transform: none; white-space: normal; widows: 2; word-spacing: =
0px; word-wrap: break-word; "><div style=3D"direction: ltr; font-family: =
Tahoma; font-size: 10pt; ">Is a stack trace the trace provided by the =
Details button of error message?&nbsp; If so, I can submit the bug =
through iBioSim so that you can see =
it.&nbsp;</div></div></blockquote><div><br></div><div>Yes, that is =
correct. &nbsp;Please submit.</div><br><blockquote type=3D"cite"><div =
style=3D"font-family: Helvetica; font-size: medium; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; =
white-space: normal; widows: 2; word-spacing: 0px; word-wrap: =
break-word; "><div style=3D"direction: ltr; font-family: Tahoma; =
font-size: 10pt; ">I tried the gillespie and rkf45 simulators, and I =
also tried the Model option (vs. ode or monte carlo), all 3 had the same =
error message.&nbsp; I can still edit models and save them, although =
when I save them there seems to be a double // in the lower panel of =
iBioSim, where I would expect only one /, see below:<br><br>Saving SBML =
file:<br>/home/jeff/Documents/UofU/Classes/bioen6760/Projects/diffusion_te=
st_3//ligand_source.xml<br><br></div></div></blockquote>This should be =
fine. &nbsp;Please send the project, so I can see if it is something =
with your example.</div><div><br><blockquote type=3D"cite"><div =
style=3D"font-family: Helvetica; font-size: medium; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; =
white-space: normal; widows: 2; word-spacing: 0px; word-wrap: =
break-word; "><div style=3D"direction: ltr; font-family: Tahoma; =
font-size: 10pt; ">Also, I ran the uninstaller before installing the new =
version, and it seemed to work, except that I got a message that the =
iBioSim folder was not empty (it had just the bin folder left, and the =
contents were only reb2sac and GeneNet).&nbsp; Anyways, I renamed the =
old folder so it wouldn't get in the way before I reinstalled.&nbsp; =
When I started the reinstall process it warned me that there was already =
a version of iBioSim detected, but I let it continue anyway.&nbsp; I =
guess maybe there is something that the uninstaller might have missed, =
but I was not sure what.<br><br></div></div></blockquote>Hmm, sounds =
like you were pretty careful, so I guess that is not the =
problem.</div><div><br></div><div>My guess is it is a new bug caused by =
something in your =
example.</div><div><br></div><div>Chris</div><div><br></div><br></div></di=
v></div><span>&lt;diffusion_test_3.zip&gt;</span></div></blockquote></div>=
<br></div></div></div></div></div><br =
class=3D"Apple-interchange-newline"></blockquote></div><br></div></div></d=
iv></div></div><br =
class=3D"Apple-interchange-newline"></blockquote></div><br></div></body></=
html>=

--Apple-Mail=_0E7FCC1B-4AA1-43D5-935F-C3D9AF2850FF--

